import{j as s,B as T,G as o,at as v,q as k,s as R,t as M,w as P,o as r,k as D,ao as W,ap as X,u as f,d as ss,m as Y,n as d,R as es,I as z,v as Z,E as B,F as S,T as A,A as m}from"./index-cc58a329.js";import{C as E,a as G}from"./CardContent-0d1848fb.js";import{S as n}from"./Skeleton-861e561d.js";import{C as O,b as q}from"./index-b8b6ccd5.js";import{P as as}from"./index-a79bf066.js";import{C as N}from"./CardActionArea-2bc53201.js";import{C as $}from"./CardHeader-ccefbe75.js";import{C as F}from"./CardActions-eb405d4e.js";import{d as H,a as V}from"./Edit-e271c5d8.js";import{C as J}from"./react-time-ago-5fee5104.js";import{d as K}from"./Delete-238cbf2a.js";import{S as Q}from"./styled-badge-c84ac5c8.js";rs.propTypes={loading:as.bool};function rs({typeDisplay:e}){return s.jsx(T,{sx:{my:4},children:s.jsx(o,{container:!0,spacing:{xs:2,md:6},children:[0,1,2,3,4,5].map(l=>s.jsx(o,{item:!0,xs:e===v.Grid?6:12,sm:e===v.Grid?4:12,children:e===v.Grid?s.jsx(is,{}):s.jsx(ts,{})},l))})})}function ts(){return s.jsx(N,{component:"a",children:s.jsxs(E,{sx:{display:{xs:"block",sm:"flex"}},children:[s.jsx(O,{sx:{width:{xs:"100%",sm:250},height:{xs:"100%",sm:200}},children:s.jsx(n,{variant:"rectangular",width:"100%",height:"100%"})}),s.jsxs(G,{sx:{flex:1},children:[s.jsx(k,{sx:{width:"100%",pt:0,pb:0,bgcolor:"background.paper"},children:s.jsxs(R,{sx:{pl:0},children:[s.jsx(M,{children:s.jsx(n,{variant:"circular",width:40,height:40})}),s.jsx(P,{primary:s.jsx(n,{animation:"wave",height:24}),secondary:s.jsx(n,{animation:"wave",height:24})})]})}),s.jsx(o,{container:!0,spacing:2,children:s.jsxs(o,{item:!0,xs:8,children:[s.jsx(r,{component:"h5",variant:"h5",sx:{fontSize:"1.2rem"},children:s.jsx(n,{animation:"wave",height:24})}),s.jsx(n,{variant:"rectangular",width:"100%",height:50})]})})]})]})})}function is(){return D(),s.jsx(N,{component:"a",children:s.jsxs(E,{children:[s.jsx($,{avatar:s.jsx(n,{variant:"circular",width:40,height:40}),action:"",title:s.jsx(n,{animation:"wave",height:24}),subheader:s.jsx(r,{variant:"subtitle2",color:"text.secondary",children:s.jsx(n,{animation:"wave",height:24})})}),s.jsx(O,{sx:{height:{xs:150,md:200}},children:s.jsx(n,{variant:"rectangular",width:"100%",height:"100%"})}),s.jsx(G,{className:"card-content"})]})})}var U={},ns=X;Object.defineProperty(U,"__esModule",{value:!0});var w=U.default=void 0,ls=ns(W()),os=s,cs=(0,ls.default)((0,os.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm3.3 14.71L11 12.41V7h2v4.59l3.71 3.71-1.42 1.41z"}),"AccessTimeFilled");w=U.default=cs;function Cs({listOffers:e,typeDisplay:l,isOnLine:h,forMe:u,callbackEditOffer:j,callbackDeleteOffer:g}){const t=f(),p=c=>{setTimeout(()=>{t(ss.DETAILS_OFFER+"/"+c)},300)};return s.jsx(T,{children:s.jsx(o,{container:!0,spacing:{xs:2,md:6},children:e.map((c,x)=>s.jsx(o,{item:!0,xs:l===v.Grid?6:12,sm:l===v.Grid?4:12,children:l===v.Grid?s.jsx(ms,{offer:c,rediretToCallback:p,isOnLine:h,forMe:u,callbackEditOffer:j,callbackDeleteOffer:g}):s.jsx(ds,{offer:c,rediretToCallback:p,isOnLine:h,forMe:u,callbackEditOffer:j,callbackDeleteOffer:g})},`entity-${x}`))})})}function ds({offer:e,rediretToCallback:l,isOnLine:h,forMe:u,callbackEditOffer:j,callbackDeleteOffer:g}){var x,_,b,L,y,C,I,a;const{t}=D(),p=i=>{i.stopPropagation(),j(e)},c=i=>{i.stopPropagation(),g(e)};return s.jsx(N,{component:"a",onClick:()=>l(e.id),children:s.jsxs(E,{sx:{display:{xs:"block",sm:"flex"}},children:[s.jsx(O,{sx:{width:{xs:"100%",sm:250},height:{xs:"100%",sm:200}},children:(x=e==null?void 0:e.offerImages)!=null&&x.length?s.jsx(q.LazyLoadImage,{alt:"Image offer",src:Y(e.id,e.offerImages[0].path),placeholder:s.jsx("img",{src:d(m.DEFAULT_LAZY_IMAGE_LOADING),className:"img-lazy-loading",alt:"image srfgroup"}),placeholderSrc:d(m.DEFAULT_LAZY_IMAGE_LOADING),onError:i=>{i.target.onerror=null,i.target.src=d(m.DEFAULT_LAZY_IMAGE)},className:"img-lazy-loading"}):s.jsx(T,{sx:{display:{xs:"none",md:"block"},height:"100%"},children:s.jsx("img",{src:d(m.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})})}),s.jsxs(G,{sx:{flex:1},children:[s.jsx(k,{sx:{width:"100%",pt:0,pb:0,bgcolor:"background.paper"},children:s.jsxs(R,{sx:{pl:0},secondaryAction:s.jsx(es.Fragment,{children:u&&(e!=null&&e.available)?s.jsxs(F,{children:[s.jsx(z,{"aria-label":"amount",size:"small",color:"success",onClick:i=>p(i),children:s.jsx(H,{})}),s.jsx(z,{"aria-label":"report",size:"small",sx:{ml:"auto !important"},color:"error",onClick:i=>c(i),children:s.jsx(K,{})})]}):s.jsx(r,{variant:"subtitle1",color:"error",sx:{mx:1},children:t("details_offer.not_available")})}),children:[s.jsx(M,{children:s.jsx(Q,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",color:h((_=e.user)==null?void 0:_.email)?"success":"error",children:s.jsx(Z,{alt:(b=e.user)==null?void 0:b.imageUrl,src:B((L=e.user)==null?void 0:L.id,(y=e.user)==null?void 0:y.imageUrl,(C=e.user)==null?void 0:C.sourceConnectedDevice),sx:{border:"1px solid #b9b9b9"},children:(I=S(e.user))==null?void 0:I.charAt(0)})})}),s.jsx(P,{primary:S(e==null?void 0:e.user),secondary:s.jsxs(r,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[s.jsx(w,{fontSize:"small",sx:{mr:.9}}),s.jsx(J,{convertDate:e.dateCreated})]})})]})}),s.jsxs(o,{container:!0,spacing:2,children:[s.jsxs(o,{item:!0,xs:8,children:[s.jsx(r,{component:"h5",variant:"h5",sx:{fontSize:"1.2rem"},children:e.title}),s.jsxs(r,{variant:"subtitle2",color:"text.secondary",display:"flex",children:[s.jsx(V,{fontSize:"small",sx:{mr:.9}}),e.typeOffer===A.Sell?t("common.for_sell"):e.typeOffer===A.Rent?t("common.for_rent"):e.typeOffer===A.Find?t("common.for_find"):null]})]}),e.amount?s.jsx(o,{item:!0,xs:4,children:s.jsxs(r,{variant:"subtitle1",display:"flex",sx:{justifyContent:"end"},color:"secondary",children:[(a=e.amount)==null?void 0:a.toLocaleString("tn-TN")," TND"]})}):null]})]})]})})}function ms({offer:e,rediretToCallback:l,isOnLine:h,forMe:u,callbackEditOffer:j,callbackDeleteOffer:g}){var x,_,b,L,y,C,I;const{t}=D(),p=a=>{a.stopPropagation(),j(e)},c=a=>{a.stopPropagation(),g(e)};return s.jsx(N,{component:"a",onClick:()=>l(e.id),children:s.jsxs(E,{className:"card-item-offer",children:[s.jsx($,{avatar:s.jsx(Q,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",color:h((x=e.user)==null?void 0:x.email)?"success":"error",children:s.jsx(Z,{alt:(_=e.user)==null?void 0:_.imageUrl,src:B((b=e.user)==null?void 0:b.id,(L=e.user)==null?void 0:L.imageUrl,(y=e.user)==null?void 0:y.sourceConnectedDevice),sx:{border:"1px solid #b9b9b9"},children:(C=S(e.user))==null?void 0:C.charAt(0)})}),action:"",title:s.jsx(r,{className:"truncate-text",children:S(e==null?void 0:e.user)}),subheader:s.jsxs(r,{variant:"subtitle2",color:"text.secondary",display:"flex",sx:{fontSize:{xs:"0.6rem",md:"0.875rem"}},children:[s.jsx(w,{fontSize:"small",sx:{mr:.9,fontSize:{xs:"0.9rem",md:"1.25rem;"}}}),s.jsx(J,{convertDate:e.dateCreated})]})}),s.jsx(O,{sx:{height:{xs:150,md:200}},children:e.offerImages&&e.offerImages.length?s.jsx(q.LazyLoadImage,{alt:"Image offer",src:Y(e.id,e.offerImages[0].path),placeholder:s.jsx("img",{src:d(m.DEFAULT_LAZY_IMAGE_LOADING),className:"img-lazy-loading",alt:"image srfgroup"}),placeholderSrc:d(m.DEFAULT_LAZY_IMAGE_LOADING),onError:a=>{a.target.onerror=null,a.target.src=d(m.DEFAULT_LAZY_IMAGE)},className:"img-lazy-loading"}):s.jsx("img",{src:d(m.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})}),s.jsxs(T,{className:"card-actions-content",children:[s.jsxs(G,{className:"card-content",children:[s.jsxs(r,{gutterBottom:!0,variant:"h5",component:"div",sx:{fontSize:{xs:"1rem",md:"1.5rem"}},children:[s.jsx(V,{fontSize:"small",sx:{mr:.9,fontSize:{xs:"0.9rem",md:"1.25rem;"}}}),e.typeOffer===A.Sell?t("common.for_sell"):e.typeOffer===A.Rent?t("common.for_rent"):e.typeOffer===A.Find?t("common.for_find"):null]}),s.jsx(r,{component:"h5",variant:"h5",sx:{fontSize:{xs:"1rem",md:"1.2rem"}},className:"truncate-text",children:e.title})]}),s.jsx(F,{children:e.amount?s.jsxs(z,{"aria-label":"amount",size:"small",sx:{fontSize:{xs:"0.9rem",md:"1.125rem"}},color:"secondary",children:[(I=e.amount)==null?void 0:I.toLocaleString("tn-TN")," TND"]}):null})]}),u?e!=null&&e.available?s.jsxs(F,{children:[s.jsx(z,{"aria-label":"amount",size:"small",color:"success",onClick:a=>p(a),children:s.jsx(H,{})}),s.jsx(z,{"aria-label":"report",size:"small",sx:{ml:"auto !important"},color:"error",onClick:a=>c(a),children:s.jsx(K,{})})]}):s.jsx(r,{variant:"subtitle1",color:"error",sx:{mx:1},children:t("details_offer.not_available")}):null]})})}export{Cs as I,rs as L};
