import{R as t,at as $,u as J,k as K,V,au as Y,a as r,bC as Q,bD as X,bE as Z,bF as ee,bG as se,bH as te,b as ae,c as re,bI as c,g as O,bJ as E,A as _,j as e,B as ie,G as l,L as le,d as h,o as A,bl as oe,a7 as ne,ad as ce,a8 as fe,a9 as de,ae as me,ab as pe,ac as F,bK as ue}from"./index-cc58a329.js";import{C as Oe}from"./Container-c6f384ce.js";import{B as he}from"./Breadcrumbs-27f8f572.js";import{q as P,S as ye}from"./SearchAppBar-85f74b2b.js";import{I as xe,L as ge}from"./ItemsOffer-d3a45f2a.js";import{I as Se}from"./InfiniteScroll-321153e4.js";import{A as Me}from"./Alert-a2f3ba94.js";import"./TextField-727dca04.js";import"./OutlinedInput-400299d2.js";import"./Autocomplete-d4d8b663.js";import"./Close-751101d2.js";import"./Chip-202c59ef.js";import"./visuallyHidden-14c3de6e.js";import"./RadioGroup-5cd949cc.js";import"./offer-type-contact.enum-48d16516.js";import"./debounce-091980e9.js";import"./CardContent-0d1848fb.js";import"./Skeleton-861e561d.js";import"./index-b8b6ccd5.js";import"./index-a79bf066.js";import"./CardActionArea-2bc53201.js";import"./CardHeader-ccefbe75.js";import"./CardActions-eb405d4e.js";import"./Edit-e271c5d8.js";import"./react-time-ago-5fee5104.js";import"./Delete-238cbf2a.js";import"./styled-badge-c84ac5c8.js";function Ve(){const[k,f]=t.useState(!1),[R,T]=t.useState(-1),[n,y]=t.useState(!0),[x,d]=t.useState(!1),[g,v]=t.useState($.Grid),S=J(),{t:o}=K(),a=V(),{search:M}=Y(),j=r(Q)??!1,b=r(X)??[],m=r(Z)??-1,I=r(ee)??0,i=r(se)??0,D=r(te)??!1,L=r(ae).entities??[],B=r(re).entities??[],p=()=>{a(oe({})),a(c(0))};t.useEffect(()=>{n&&b.length===0&&(y(!1),a(c(-1)),p())},[n]),t.useEffect(()=>{if(i>=0&&!n){const s=P.parse(M),u=O(s);a(E({page:i,size:_.OFFERS_PER_PAGE,queryParams:u})),d(!1)}},[i,n]),t.useEffect(()=>{if(x){const s=P.parse(M),u=O(s);a(E({page:i,size:_.OFFERS_PER_PAGE,queryParams:u})),d(!1)}},[x]),t.useEffect(()=>{D&&(a(c(-1)),p())},[D]);const G=s=>{S(`${h.OFFER.ADD_UPDATE_OFFER}/${s.id}/edit`)},U=s=>{T(s.id||-1),f(!0)},C=()=>{f(!1)},q=()=>{f(!1),a(ue({id:R}))},N=()=>e.jsxs(ne,{open:k,TransitionComponent:ce,keepMounted:!0,onClose:C,"aria-describedby":"alert-dialog-slide-description",children:[e.jsx(fe,{children:o("my_offers.title_dialog_delete_offer")}),e.jsx(de,{children:e.jsx(me,{id:"alert-dialog-slide-description",children:o("my_offers.description_dialog_delete_offer")})}),e.jsxs(pe,{children:[e.jsx(F,{onClick:C,color:"neutral",children:o("common.label_cancel")}),e.jsx(F,{onClick:q,color:"error",children:o("common.label_delete")})]})]}),W=s=>{S({pathname:h.OFFER.MY_OFFERS,search:"?"+new URLSearchParams(O(s)).toString()}),d(!0),p()},w=()=>{y(!1),a(c(i+1))},z=s=>{v(s)},H=s=>!0;return e.jsxs(ie,{children:[e.jsx(Oe,{maxWidth:"xl",className:"details-offer-client",children:e.jsxs(l,{container:!0,sx:{pt:1},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:1}),e.jsx(l,{item:!0,xs:12,sm:6,md:2,children:e.jsxs(he,{"aria-label":"breadcrumb",children:[e.jsx(le,{color:"inherit",to:h.HOME,children:"SRF"}),e.jsx(A,{color:"text.primary",children:o("my_offers.title_page")})]})}),e.jsxs(l,{container:!0,style:{paddingTop:50},children:[e.jsx(l,{item:!0,xs:12,sm:3}),e.jsxs(l,{item:!0,xs:12,sm:6,children:[e.jsx("div",{style:{maxWidth:"100%",marginBottom:100},children:e.jsx(ye,{entitiesCategories:L.slice(),searchCalback:W,typeDisplayCallback:z,listAddress:B.slice()})}),m>0?e.jsxs(A,{variant:"subtitle2",color:"text.secondary",children:["Total = ",m]}):null,e.jsxs(Se,{pageStart:i,loadMore:w,hasMore:I-1>i,loader:e.jsx("div",{className:"loader"},0),threshold:0,initialLoad:!1,children:[e.jsx(xe,{listOffers:b.slice(),typeDisplay:g,isOnLine:s=>H(),forMe:!0,callbackEditOffer:G,callbackDeleteOffer:U}),j?e.jsx(ge,{typeDisplay:g}):null]}),m===0&&!j?e.jsx(Me,{severity:"warning",children:"No Offers found"}):null]})]})]})}),N()]})}export{Ve as default};
