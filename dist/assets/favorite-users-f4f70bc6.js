import{R as n,u as U,k as C,j as e,G as l,q as P,s as T,I as M,t as k,v as O,E as B,F as _,w as R,o as I,aK as L,d as D,a7 as w,ad as G,a8 as q,a9 as z,ae as V,ab as H,ac as S,V as N,a as x,dt as K,du as J,dv as Q,dw as W,dx as X,dy as b,A as E,dz as F,L as Y,B as Z,cD as $,dA as ee}from"./index-cc58a329.js";import{C as se}from"./Container-c6f384ce.js";import{B as te}from"./Breadcrumbs-27f8f572.js";import{A as ae}from"./Alert-a2f3ba94.js";import{d as re}from"./Delete-238cbf2a.js";import{I as ie}from"./InfiniteScroll-321153e4.js";import{S as f}from"./Skeleton-861e561d.js";import"./Close-751101d2.js";import"./index-a79bf066.js";function oe({favorite:r,parentCallback:m}){var v,y,A;const[p,t]=n.useState(!1),u=U(),{t:a}=C(),{favoriteUser:s,id:i}=r,h=d=>{d.stopPropagation(),t(!0)},c=()=>{t(!1)},j=d=>{setTimeout(()=>{u(D.PROFILE+"/"+d)},300)},g=()=>{t(!1),m(i)},o=()=>e.jsxs(w,{open:p,TransitionComponent:G,keepMounted:!0,onClose:c,"aria-describedby":"alert-dialog-slide-description",children:[e.jsx(q,{children:a("favorite.user.title_remove_favrite_user")}),e.jsx(z,{children:e.jsx(V,{id:"alert-dialog-slide-description",children:a("favorite.user.description_remove_favrite_user")})}),e.jsxs(H,{children:[e.jsx(S,{onClick:c,children:a("common.label_cancel")}),e.jsx(S,{onClick:g,color:"error",children:a("common.label_disfavorite")})]})]});return e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsxs(P,{sx:{bgcolor:"background.paper"},children:[e.jsxs(T,{alignItems:"flex-start",button:!0,onClick:()=>j(s==null?void 0:s.id),secondaryAction:e.jsx(M,{edge:"end","aria-label":"delete",onClick:d=>h(d),children:e.jsx(re,{color:"error"})}),children:[e.jsx(k,{children:e.jsx(O,{alt:"Remy Sharp",src:B(s==null?void 0:s.id,s==null?void 0:s.imageUrl,s==null?void 0:s.sourceConnectedDevice),children:(v=_(s))==null?void 0:v.charAt(0)})}),e.jsx(R,{primary:_(s),secondary:e.jsxs(n.Fragment,{children:[e.jsx(I,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:s==null?void 0:s.email}),(y=s==null?void 0:s.address)==null?void 0:y.city," ",(A=s==null?void 0:s.address)==null?void 0:A.country]})})]}),e.jsx(L,{variant:"inset",component:"li"})]}),e.jsx("div",{children:o()})]})}function ge(){const[r,m]=n.useState(!0),{t:p}=C(),t=N(),u=x(K)??!1,a=x(J)??[],s=x(Q)??0,i=x(W)??-1,h=x(X)??!1,c=()=>{t($({})),t(F(0))};n.useEffect(()=>{r&&a.length===0&&(m(!1),c())},[r]),n.useEffect(()=>{i>=0&&!r&&t(b({page:i,size:E.FAVORITE_USERS_PER_PAGE,queryParams:""}))},[i,r]),n.useEffect(()=>{h&&(t(F(0)),c(),t(b({page:0,size:E.FAVORITE_USERS_PER_PAGE,queryParams:""})))},[h]);const j=o=>{t(ee({id:o}))},g=()=>{m(!1),t(F(i+1))};return e.jsxs(se,{children:[e.jsx(l,{container:!0,style:{paddingTop:10},children:e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(te,{"aria-label":"breadcrumb",children:[e.jsx(Y,{color:"inherit",to:D.HOME,children:"SRF"}),e.jsx(I,{color:"text.primary",children:"Favorites users"})]})})}),e.jsx(Z,{sx:{mt:3},children:e.jsx(ie,{pageStart:i,loadMore:g,hasMore:s-1>i,loader:e.jsx("div",{className:"loader"},0),threshold:0,initialLoad:!1,children:e.jsxs(l,{container:!0,spacing:{xs:0,md:4},children:[a.map((o,v)=>e.jsx(oe,{favorite:o,parentCallback:j},o.id)),u?e.jsx(ne,{}):null,!u&&(a==null?void 0:a.length)==0?e.jsx(l,{item:!0,xs:12,children:e.jsx(ae,{severity:"warning",children:p("favorite.user.message_no_favorite_found")})}):null]})})})]})}function ne(){return e.jsx(e.Fragment,{children:[0,1,2,4].map(r=>e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(P,{sx:{bgcolor:"background.paper"},children:[e.jsxs(T,{button:!0,children:[e.jsx(k,{children:e.jsx(f,{variant:"circular",width:40,height:40})}),e.jsx(R,{primary:e.jsx(f,{variant:"text",height:40}),secondary:e.jsx(f,{variant:"text",height:20})})]}),e.jsx(L,{variant:"inset",component:"li"})]})},r))})}export{ge as default};
