import{r as le,j as t,B as _,u as ee,v as de,E as me,F as ue,m as ie,n as G,I as J,H as pe,J as fe,aq as he,o as O,y as be,d as q,A as R,V as oe,k as ne,a as w,ar as ge,R as L,as as xe,q as ye,at as ve,au as je,_ as Ee,av as Te,aw as Se,ax as Ce,ay as we,az as Me,b as Ae,c as Pe,aA as De,aB as $e,aC as W,M as ke,aD as Le,g as X,aE as se,G as I,L as Oe,aF as Ie,aG as _e}from"./index-cc58a329.js";import{F as ze,q as ae,S as Be}from"./SearchAppBar-85f74b2b.js";import{I as Fe,L as Re}from"./ItemsOffer-d3a45f2a.js";import{I as He}from"./InfiniteScroll-321153e4.js";import{L as Ne}from"./Autocomplete-d4d8b663.js";import{C as K,a as V}from"./CardContent-0d1848fb.js";import{P as Ue}from"./probleme-declaration-970df573.js";import{C as Q,b as Ge}from"./index-b8b6ccd5.js";import{C as Ye}from"./react-time-ago-5fee5104.js";import{d as qe}from"./Share-393f7a51.js";import{C as ce}from"./CardActionArea-2bc53201.js";import{C as Ve}from"./CardHeader-ccefbe75.js";import{C as We}from"./CardActions-eb405d4e.js";import{g as Xe,c as Ze,$ as re,n as Je,b as Z,S as Ke,P as Qe,N as et,a as tt}from"./swiper-slide-17d3c836.js";import{B as st}from"./Breadcrumbs-27f8f572.js";import{A as at}from"./Alert-a2f3ba94.js";import"./TextField-727dca04.js";import"./OutlinedInput-400299d2.js";import"./visuallyHidden-14c3de6e.js";import"./RadioGroup-5cd949cc.js";import"./offer-type-contact.enum-48d16516.js";import"./debounce-091980e9.js";import"./Skeleton-861e561d.js";import"./index-a79bf066.js";import"./Edit-e271c5d8.js";import"./Delete-238cbf2a.js";import"./styled-badge-c84ac5c8.js";import"./Close-751101d2.js";import"./Chip-202c59ef.js";function rt(r){let{swiper:e,extendParams:h,on:p,emit:v}=r;const T=Xe();let m=!1,C=null,o=null,b,a,g,A;h({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled"}}),e.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function j(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:s,rtlTranslate:u,progress:c}=e,{$dragEl:d,$el:i}=s,S=e.params.scrollbar;let k=a,f=(g-a)*c;u?(f=-f,f>0?(k=a-f,f=0):-f+a>g&&(k=g+f)):f<0?(k=a+f,f=0):f+a>g&&(k=g-f),e.isHorizontal()?(d.transform(`translate3d(${f}px, 0, 0)`),d[0].style.width=`${k}px`):(d.transform(`translate3d(0px, ${f}px, 0)`),d[0].style.height=`${k}px`),S.hide&&(clearTimeout(C),i[0].style.opacity=1,C=setTimeout(()=>{i[0].style.opacity=0,i.transition(400)},1e3))}function x(s){!e.params.scrollbar.el||!e.scrollbar.el||e.scrollbar.$dragEl.transition(s)}function z(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:s}=e,{$dragEl:u,$el:c}=s;u[0].style.width="",u[0].style.height="",g=e.isHorizontal()?c[0].offsetWidth:c[0].offsetHeight,A=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?a=g*A:a=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?u[0].style.width=`${a}px`:u[0].style.height=`${a}px`,A>=1?c[0].style.display="none":c[0].style.display="",e.params.scrollbar.hide&&(c[0].style.opacity=0),e.params.watchOverflow&&e.enabled&&s.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}function M(s){return e.isHorizontal()?s.type==="touchstart"||s.type==="touchmove"?s.targetTouches[0].clientX:s.clientX:s.type==="touchstart"||s.type==="touchmove"?s.targetTouches[0].clientY:s.clientY}function E(s){const{scrollbar:u,rtlTranslate:c}=e,{$el:d}=u;let i;i=(M(s)-d.offset()[e.isHorizontal()?"left":"top"]-(b!==null?b:a/2))/(g-a),i=Math.max(Math.min(i,1),0),c&&(i=1-i);const S=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*i;e.updateProgress(S),e.setTranslate(S),e.updateActiveIndex(),e.updateSlidesClasses()}function H(s){const u=e.params.scrollbar,{scrollbar:c,$wrapperEl:d}=e,{$el:i,$dragEl:S}=c;m=!0,b=s.target===S[0]||s.target===S?M(s)-s.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,s.preventDefault(),s.stopPropagation(),d.transition(100),S.transition(100),E(s),clearTimeout(o),i.transition(0),u.hide&&i.css("opacity",1),e.params.cssMode&&e.$wrapperEl.css("scroll-snap-type","none"),v("scrollbarDragStart",s)}function l(s){const{scrollbar:u,$wrapperEl:c}=e,{$el:d,$dragEl:i}=u;m&&(s.preventDefault?s.preventDefault():s.returnValue=!1,E(s),c.transition(0),d.transition(0),i.transition(0),v("scrollbarDragMove",s))}function P(s){const u=e.params.scrollbar,{scrollbar:c,$wrapperEl:d}=e,{$el:i}=c;m&&(m=!1,e.params.cssMode&&(e.$wrapperEl.css("scroll-snap-type",""),d.transition("")),u.hide&&(clearTimeout(o),o=Je(()=>{i.css("opacity",0),i.transition(400)},1e3)),v("scrollbarDragEnd",s),u.snapOnRelease&&e.slideToClosest())}function D(s){const{scrollbar:u,touchEventsTouch:c,touchEventsDesktop:d,params:i,support:S}=e,k=u.$el;if(!k)return;const f=k[0],Y=S.passiveListener&&i.passiveListeners?{passive:!1,capture:!1}:!1,te=S.passiveListener&&i.passiveListeners?{passive:!0,capture:!1}:!1;if(!f)return;const N=s==="on"?"addEventListener":"removeEventListener";S.touch?(f[N](c.start,H,Y),f[N](c.move,l,Y),f[N](c.end,P,te)):(f[N](d.start,H,Y),T[N](d.move,l,Y),T[N](d.end,P,te))}function $(){!e.params.scrollbar.el||!e.scrollbar.el||D("on")}function B(){!e.params.scrollbar.el||!e.scrollbar.el||D("off")}function y(){const{scrollbar:s,$el:u}=e;e.params.scrollbar=Ze(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const c=e.params.scrollbar;if(!c.el)return;let d=re(c.el);e.params.uniqueNavElements&&typeof c.el=="string"&&d.length>1&&u.find(c.el).length===1&&(d=u.find(c.el));let i=d.find(`.${e.params.scrollbar.dragClass}`);i.length===0&&(i=re(`<div class="${e.params.scrollbar.dragClass}"></div>`),d.append(i)),Object.assign(s,{$el:d,el:d[0],$dragEl:i,dragEl:i[0]}),c.draggable&&$(),d&&d[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}function n(){B()}p("init",()=>{e.params.scrollbar.enabled===!1?U():(y(),z(),j())}),p("update resize observerUpdate lock unlock",()=>{z()}),p("setTranslate",()=>{j()}),p("setTransition",(s,u)=>{x(u)}),p("enable disable",()=>{const{$el:s}=e.scrollbar;s&&s[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}),p("destroy",()=>{n()});const F=()=>{e.$el.removeClass(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.$el&&e.scrollbar.$el.removeClass(e.params.scrollbar.scrollbarDisabledClass),y(),z(),j()},U=()=>{e.$el.addClass(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.$el&&e.scrollbar.$el.addClass(e.params.scrollbar.scrollbarDisabledClass),n()};Object.assign(e.scrollbar,{enable:F,disable:U,updateSize:z,setTranslate:j,init:y,destroy:n})}function lt(r){let{swiper:e,extendParams:h,emit:p,once:v}=r;h({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function T(){const o=e.getTranslate();e.setTranslate(o),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function m(){const{touchEventsData:o,touches:b}=e;o.velocities.length===0&&o.velocities.push({position:b[e.isHorizontal()?"startX":"startY"],time:o.touchStartTime}),o.velocities.push({position:b[e.isHorizontal()?"currentX":"currentY"],time:Z()})}function C(o){let{currentPos:b}=o;const{params:a,$wrapperEl:g,rtlTranslate:A,snapGrid:j,touchEventsData:x}=e,M=Z()-x.touchStartTime;if(b<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(b>-e.maxTranslate()){e.slides.length<j.length?e.slideTo(j.length-1):e.slideTo(e.slides.length-1);return}if(a.freeMode.momentum){if(x.velocities.length>1){const y=x.velocities.pop(),n=x.velocities.pop(),F=y.position-n.position,U=y.time-n.time;e.velocity=F/U,e.velocity/=2,Math.abs(e.velocity)<a.freeMode.minimumVelocity&&(e.velocity=0),(U>150||Z()-y.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=a.freeMode.momentumVelocityRatio,x.velocities.length=0;let E=1e3*a.freeMode.momentumRatio;const H=e.velocity*E;let l=e.translate+H;A&&(l=-l);let P=!1,D;const $=Math.abs(e.velocity)*20*a.freeMode.momentumBounceRatio;let B;if(l<e.maxTranslate())a.freeMode.momentumBounce?(l+e.maxTranslate()<-$&&(l=e.maxTranslate()-$),D=e.maxTranslate(),P=!0,x.allowMomentumBounce=!0):l=e.maxTranslate(),a.loop&&a.centeredSlides&&(B=!0);else if(l>e.minTranslate())a.freeMode.momentumBounce?(l-e.minTranslate()>$&&(l=e.minTranslate()+$),D=e.minTranslate(),P=!0,x.allowMomentumBounce=!0):l=e.minTranslate(),a.loop&&a.centeredSlides&&(B=!0);else if(a.freeMode.sticky){let y;for(let n=0;n<j.length;n+=1)if(j[n]>-l){y=n;break}Math.abs(j[y]-l)<Math.abs(j[y-1]-l)||e.swipeDirection==="next"?l=j[y]:l=j[y-1],l=-l}if(B&&v("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(A?E=Math.abs((-l-e.translate)/e.velocity):E=Math.abs((l-e.translate)/e.velocity),a.freeMode.sticky){const y=Math.abs((A?-l:l)-e.translate),n=e.slidesSizesGrid[e.activeIndex];y<n?E=a.speed:y<2*n?E=a.speed*1.5:E=a.speed*2.5}}else if(a.freeMode.sticky){e.slideToClosest();return}a.freeMode.momentumBounce&&P?(e.updateProgress(D),e.setTransition(E),e.setTranslate(l),e.transitionStart(!0,e.swipeDirection),e.animating=!0,g.transitionEnd(()=>{!e||e.destroyed||!x.allowMomentumBounce||(p("momentumBounce"),e.setTransition(a.speed),setTimeout(()=>{e.setTranslate(D),g.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(p("_freeModeNoMomentumRelease"),e.updateProgress(l),e.setTransition(E),e.setTranslate(l),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,g.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(l),e.updateActiveIndex(),e.updateSlidesClasses()}else if(a.freeMode.sticky){e.slideToClosest();return}else a.freeMode&&p("_freeModeNoMomentumRelease");(!a.freeMode.momentum||M>=a.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:T,onTouchMove:m,onTouchEnd:C}})}function it({listAddress:r,filterCallback:e}){le.useEffect(()=>{try{FB&&FB.XFBML.parse()}catch{window.console.error("FB not defined")}},[]);const h=p=>{e(p)};return t.jsxs(_,{sx:{width:"100%"},children:[t.jsx(ze,{listAddress:r,handelChange:h}),t.jsx(_,{sx:{mb:4},children:t.jsx("div",{style:{width:"100%"},children:t.jsx("div",{className:"fb-page","data-href":"https://www.facebook.com/profile.php?id=100054409273167","data-tabs":"timeline","data-width":"250","data-height":"","data-small-header":"false","data-adapt-container-width":"true","data-hide-cover":"false","data-show-facepile":"true"})})})]})}const ot=be(r=>{const{expand:e,...h}=r;return t.jsx(J,{...h})})(({theme:r,expand:e})=>({transform:e?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:r.transitions.create("transform",{duration:r.transitions.duration.shortest})}));function nt({advertising:r}){var m,C,o,b,a,g;const[e,h]=le.useState(!1),p=ee(),v=()=>{h(!e)},T=()=>{setTimeout(()=>{p(q.DETAILS_OFFER+"/"+r.id)},300)};return t.jsx(ce,{component:"a",onClick:()=>T(),children:t.jsxs(K,{sx:{mb:3},children:[t.jsx(Ve,{avatar:t.jsx(de,{alt:(m=r.user)==null?void 0:m.imageUrl,src:me((C=r.user)==null?void 0:C.id,(o=r.user)==null?void 0:o.imageUrl,(b=r.user)==null?void 0:b.sourceConnectedDevice),sx:{border:"1px solid #b9b9b9"},children:(a=ue(r.user))==null?void 0:a.charAt(0)}),title:r==null?void 0:r.title,subheader:"September 14, 2016"}),(g=r==null?void 0:r.offerImages)!=null&&g.length?t.jsx(Q,{component:"img",height:"194",image:ie(r.id,r.offerImages[0].path),alt:"Paella dish"}):t.jsx(Q,{component:"img",height:"194",image:G(R.DEFAULT_LAZY_IMAGE),alt:"Paella dish"}),t.jsx(V,{children:t.jsx("div",{dangerouslySetInnerHTML:{__html:(r==null?void 0:r.description)||""}})}),t.jsxs(We,{disableSpacing:!0,children:[t.jsx(J,{"aria-label":"add to favorites",children:t.jsx(pe,{})}),t.jsx(J,{"aria-label":"share",children:t.jsx(qe,{})}),t.jsx(ot,{expand:e,onClick:v,"aria-expanded":e,"aria-label":"show more",children:t.jsx(fe,{})})]}),t.jsx(he,{in:e,timeout:"auto",unmountOnExit:!0,children:t.jsxs(V,{children:[t.jsx(O,{paragraph:!0,children:"Method:"}),t.jsx(O,{paragraph:!0,children:"Heat 1/2 cup of the broth in a pot until simmering, add saffron and set aside for 10 minutes."}),t.jsx(O,{paragraph:!0,children:"Heat oil in a (14- to 16-inch) paella pan or a large, deep skillet over medium-high heat. Add chicken, shrimp and chorizo, and cook, stirring occasionally until lightly browned, 6 to 8 minutes. Transfer shrimp to a large plate and set aside, leaving chicken and chorizo in the pan. Add pimentÃ³n, bay leaves, garlic, tomatoes, onion, salt and pepper, and cook, stirring often until thickened and fragrant, about 10 minutes. Add saffron broth and remaining 4 1/2 cups chicken broth; bring to a boil."}),t.jsx(O,{paragraph:!0,children:"Add rice and stir very gently to distribute. Top with artichokes and peppers, and cook without stirring, until most of the liquid is absorbed, 15 to 18 minutes. Reduce heat to medium-low, add reserved shrimp and mussels, tucking them down into the rice, and cook again without stirring, until mussels have opened and rice is just tender, 5 to 7 minutes more. (Discard any mussels that don't open.)"}),t.jsx(O,{children:"Set aside off of the heat to let rest for 10 minutes, and then serve."})]})})]})})}function ct({advertising:r}){const e=oe(),h=ee(),{t:p}=ne(),v=w(ge)??[];L.useEffect(()=>{(v==null?void 0:v.length)===0&&e(xe({}))},[]);const T=m=>{setTimeout(()=>{h(q.DETAILS_OFFER+"/"+m)},300)};return t.jsxs(_,{children:[t.jsx(ye,{sx:{width:"100%",mb:4},component:"nav","aria-labelledby":"nested-list-subheader",subheader:t.jsx(Ne,{component:"div",className:"bg-yellow",children:p("search.label_most_requested")}),children:v.map((m,C)=>{var o;return t.jsx(_,{sx:{mt:3},children:t.jsx(ce,{onClick:()=>T(m.id),children:t.jsxs(K,{sx:{display:"flex"},children:[t.jsx(Q,{sx:{width:80,height:80,backgroundColor:"#0000004f"},children:(o=m==null?void 0:m.offerImages)!=null&&o.length?t.jsx(Ge.LazyLoadImage,{alt:"Image offer",src:ie(m.id,m.offerImages[0].path),placeholder:t.jsx("img",{src:G(R.DEFAULT_LAZY_IMAGE_LOADING),className:"img-lazy-loading",alt:"image srfgroup"}),placeholderSrc:G(R.DEFAULT_LAZY_IMAGE_LOADING),onError:b=>{b.target.onerror=null,b.target.src=G(R.DEFAULT_LAZY_IMAGE)},className:"img-lazy-loading"}):t.jsx(_,{sx:{display:{xs:"none",md:"block"},height:"100%"},children:t.jsx("img",{src:G(R.DEFAULT_LAZY_IMAGE),className:"img-lazy-loading",alt:"image not found"})})}),t.jsxs(V,{sx:{flex:1,pt:0},children:[t.jsx(O,{variant:"subtitle1",children:m.title}),t.jsx(O,{variant:"body2",color:"text.secondary",children:t.jsx(Ye,{convertDate:m.dateCreated})})]})]})})},C)})}),t.jsx(K,{sx:{my:3},children:t.jsx(V,{children:t.jsx("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/668nUCeBHyY",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})}),r?t.jsx(nt,{advertising:r}):null,t.jsx(Ue,{})]})}const dt=({listCategories:r})=>t.jsx(_,{className:"horizontal-items",children:t.jsx(Ke,{slidesPerView:5,spaceBetween:30,freeMode:!0,loop:!0,modules:[lt,Qe,et,rt],autoplay:{delay:8e3,disableOnInteraction:!1},scrollbar:{hide:!0},className:"mySwiper",children:r==null?void 0:r.map((e,h)=>t.jsx(tt,{children:t.jsxs(_,{className:"container-img",children:[t.jsx("img",{alt:"image category",src:e.imageContent||""}),t.jsx(O,{variant:"subtitle2",color:"text.secondary",className:"truncate-text",children:e.titleFr})]})},`category-${h}`))})}),mt=L.memo(dt);function Ht(){const[r,e]=L.useState(ve.Grid),[h,p]=L.useState(!0),[v,T]=L.useState(!1),{search:m}=je(),C=ee(),o=oe(),{t:b}=ne(),{currentUser:a}=w(Ee),g=w(Te)??[],A=w(Se)??-1,j=w(Ce)??0,x=w(we)??-1,z=w(Me)??!1,M=w(Ae).entities??[],E=w(Pe).entities??[],H=w(De)??[],l=w($e)??{},P=()=>{o(Ie({})),o(W(0))};L.useEffect(()=>{h&&g.length===0&&(p(!1),o(W(-1)),P())},[h]),L.useEffect(()=>{ke(l)&&o(Le({}))},[]),L.useEffect(()=>{if(x>=0&&!h){const n=ae.parse(m),F=X(n);o(se({page:x,size:R.OFFERS_PER_PAGE,queryParams:F})),T(!1)}},[x,h]),L.useEffect(()=>{if(v){const n=ae.parse(m),F=X(n);o(se({page:x,size:R.OFFERS_PER_PAGE,queryParams:F})),T(!1)}},[v]);const D=()=>{p(!1),o(W(x+1))},$=n=>{C({pathname:q.SEARCH,search:"?"+new URLSearchParams(X(n)).toString()},{replace:!1}),T(!0),P()},B=n=>{e(n)},y=n=>_e(H.slice(),n,a.email);return t.jsxs(_,{sx:{px:{xs:2,md:0}},children:[t.jsxs(I,{container:!0,sx:{pt:2},children:[t.jsx(I,{item:!0,xs:12,sm:6,md:1}),t.jsx(I,{item:!0,xs:12,sm:6,md:2,children:t.jsxs(st,{"aria-label":"breadcrumb",children:[t.jsx(Oe,{color:"inherit",to:q.HOME,children:"SRF"}),t.jsx(O,{color:"text.primary",children:b("common.label_search")})]})})]}),t.jsxs(I,{container:!0,spacing:6,sx:{mt:0},children:[t.jsx(I,{item:!0,xs:12,sm:6,md:1}),t.jsx(I,{item:!0,xs:12,sm:6,md:2,sx:{display:{xs:"none",md:"flex"}},children:t.jsx(it,{listAddress:E.slice(),filterCallback:$})}),t.jsxs(I,{item:!0,xs:12,sm:6,md:6,sx:{pt:{xs:"0 !important",md:"48px !important"}},children:[t.jsx("div",{style:{maxWidth:"100%",marginBottom:100},children:t.jsx(Be,{entitiesCategories:M.slice(),searchCalback:$,typeDisplayCallback:B,listAddress:E.slice()})}),M!=null&&M.length?t.jsx(mt,{listCategories:M}):null,t.jsxs(He,{pageStart:x,loadMore:D,hasMore:j-1>x,loader:t.jsx("div",{className:"loader"},0),threshold:0,initialLoad:!1,children:[t.jsx(Fe,{listOffers:g.slice(),typeDisplay:r,isOnLine:n=>y(n)}),z?t.jsx(Re,{typeDisplay:r}):A===0?t.jsx(at,{severity:"warning",children:b("search.not_found_result")}):null]})]}),t.jsx(I,{item:!0,xs:12,sm:6,md:2,sx:{display:{xs:"none",md:"block"}},children:t.jsx(ct,{advertising:l})})]})]})}export{Ht as default};
